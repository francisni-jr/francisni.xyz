<script>import { get_current_component } from "svelte/internal";
import { getContext, onMount } from "svelte";
import { El } from "../el";
export let componentName = "step-item";
export let href = void 0;
export let active = void 0;
export let color = void 0;
let index = 0;
let cssProps = {};
let props = {};
const components = [
  { component: get_current_component(), except: [] },
  ...$$props.components ?? []
];
const { register, unregister, active: activeIndex } = getContext("STEPS");
onMount(() => {
  index = register({ active });
  return () => {
    unregister(index);
  };
});
$:
  if (active)
    $activeIndex = index;
$: {
  cssProps = {
    beforeActive: $activeIndex > index,
    afterActive: $activeIndex < index,
    active: $activeIndex === index,
    color
  };
  props = {
    tag: href ? "a" : "span",
    componentName,
    href
  };
}
</script>

<El {components} {...$$restProps} {cssProps} {...props} on:click>
	<slot />
</El>
